# load-balancer-operator

![Version: 0.0.1](https://img.shields.io/badge/Version-0.0.1-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 0.0.1](https://img.shields.io/badge/AppVersion-0.0.1-informational?style=flat-square)

A Helm chart to deploy the infratographer load-balancer-operator

## Pre-requisites

This chart will only deploy the load-balancer-operator. It is expected that you created the necessary ConfigMaps and Secrets required to deploy this application and have it connect to the appropriate eventing system (currently NATS).
The following is expected:

### Chart ConfigMap

By default, this chart will look for a ConfigMap called `lb-chart` and will expect the following keys:
- chart.tgz - This is the binaryData of a helm chart tarball that the load-balancer-operator will be deploying
- values.yaml (optional) - This is the content of any additional values file content that you would like the load-balancer-operator to use to override the values of the chart it will be deploying

### Events Secret

If `operator.events.auth.secretName` is supplied, this chart will look for a secret with the specified name and will expect the following keys:
- creds - This is the content of a NATS credentials file that will be used to connect to the specified `operator.events.connectionURL`. In the future, additional eventing system will be supported.

## Requirements

Kubernetes: `>=1.24`

| Repository | Name | Version |
|------------|------|---------|
| https://charts.bitnami.com/bitnami | common | 2.1.1 |
| https://stakater.github.io/stakater-charts | reloader | v0.0.124 |

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| fullnameOverride | string | `""` |  |
| image.pullPolicy | string | `"IfNotPresent"` |  |
| image.repository | string | `"ghcr.io/infratographer/load-balancer-operator"` |  |
| image.tag | string | `"v0.0.1"` |  |
| imagePullSecrets | list | `[]` |  |
| nameOverride | string | `""` |  |
| operator.chart.chartPath | string | `"/chart.tgz"` |  |
| operator.chart.configMapName | string | `"lb-chart"` |  |
| operator.chart.valuesCPUFlag[0] | string | `"resources.limits.cpu"` |  |
| operator.chart.valuesCPUFlag[1] | string | `"resources.requests.cpu"` |  |
| operator.chart.valuesMemoryFlag[0] | string | `"resources.limits.memory"` |  |
| operator.chart.valuesMemoryFlag[1] | string | `"resources.requests.memory"` |  |
| operator.chart.valuesPath | string | `"/events-creds"` |  |
| operator.events.auth.credsPath | string | `"/creds"` |  |
| operator.events.auth.secretName | string | `"events-creds"` |  |
| operator.events.connectionURL | string | `"my-events-cluster.example.com:4222"` |  |
| operator.events.queue | string | `"my-queue"` |  |
| operator.events.subjects | string | `"events"` |  |
| operator.extraAnnotations | object | `{}` |  |
| operator.extraEnvVars | object | `{}` |  |
| operator.extraLabels | object | `{}` |  |
| operator.healthCheckPort | string | `"8080"` |  |
| operator.podSecurityContext | object | `{}` |  |
| operator.replicas | int | `1` |  |
| operator.resources | object | `{}` |  |
| operator.securityContext | object | `{}` |  |
| podAnnotations | object | `{}` |  |
| reloader.enabled | bool | `false` |  |
| service.port | int | `80` |  |
| service.type | string | `"ClusterIP"` |  |
| serviceAccount.annotations | object | `{}` |  |
| serviceAccount.create | bool | `true` |  |
| serviceAccount.name | string | `""` |  |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.11.0](https://github.com/norwoodj/helm-docs/releases/v1.11.0)
